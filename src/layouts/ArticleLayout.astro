---
import MainLayout from "./MainLayout.astro";

interface Props {
	title: string;
	published: string;
	description?: string;
	tags?: string[];
	category?: string;
	image?: string;
}

const {
	title,
	published,
	description,
	tags = [],
	category,
	image = "/favicon.svg",
} = Astro.props;

// 格式化日期
const formatDate = (dateString: string) => {
	const date = new Date(dateString);
	return date.toLocaleDateString("zh-CN", {
		year: "numeric",
		month: "long",
		day: "numeric",
	});
};
---

<MainLayout title={`${title} - Gakusyun`} description={description || title} image={image}>
	<article class="article">
		<header class="article-header">
			<h1>{title}</h1>
			<div class="article-meta">
				<time class="article-meta-item" datetime={published}>
					{formatDate(published)}
				</time>
				{category && (
					<span class="article-meta-item blog-card-category">
						{category}
					</span>
				)}
				{tags.length > 0 && tags.map((tag) => (
					<a href={`/blog?tag=${tag}`} class="article-tag">
						{tag}
					</a>
				))}
			</div>
		</header>
		<div class="article-content">
			<slot />
		</div>
	</article>
</MainLayout>
